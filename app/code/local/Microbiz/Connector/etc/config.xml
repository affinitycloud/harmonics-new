<?xml version="1.0"?>
<config>
    <modules>
        <Microbiz_Connector>
            <version>0.1.6</version>
        </Microbiz_Connector>
    </modules>
    <frontend>
        <routers>
            <customer>
                <args>
                    <modules>
                        <Microbiz_Connector before="Mage_Customer_AddressController">
                            Microbiz_Connector_Frontend_AddressController
                        </Microbiz_Connector>
                    </modules>
                </args>
            </customer>
        </routers>
    </frontend>
    <global>
        <!--Email Code for Sending SSl request in Initial Load-->
        <template>
            <email>
                <initialload_email_template>
                    <label>Need SSL Connection</label>
                    <file>initialsync_ssl.html</file>
                    <type>html</type>
                </initialload_email_template>
            </email>
        </template>
        <!--Email Code for Sending SSl request in Initial Load Ends Here-->
        <!-- code for defining the new giftcard product type starts here -->
        <catalog>
            <product>
                <type>
                    <mbizgiftcard translate="label" module="microbiz_connector">
                        <label>MBIZ GiftCard Product</label>
                        <model>connector/product_type_mbizgiftcard</model>
                        <is_qty>0</is_qty>
                        <composite>0</composite>
                        <can_use_qty_decimals>0</can_use_qty_decimals>
                    </mbizgiftcard>
                </type>
            </product>
        </catalog>
        <!-- code for defining the new giftcard product type ends here -->
        <rewrite>
            <connector_sales_order_cancel>
                <from><![CDATA[#^/admin/sales_order/cancel/#]]></from>
                <to>/connector/sales_order/cancel/</to>
            </connector_sales_order_cancel>

            <connector_customer_address>
                <from><![CDATA[#^/customer/address/delete/#]]></from>
                <to>/connector/address/delete/</to>
            </connector_customer_address>

            <connector_customer_address>
                <from><![CDATA[#^/customer/address/formPost/#]]></from>
                <to>/connector/address/formPost/</to>
            </connector_customer_address>

            <connector_sales_order_shipment_save>
                <from><![CDATA[#^/admin/sales_order_shipment/save/#]]></from>
                <to>/connector/sales_order_shipment/save/</to>
            </connector_sales_order_shipment_save>

            <!--<connector_catalog_product_save>
                <from><![CDATA[#^/admin/catalog_product/save/#]]></from>
                <to>/connector/catalog_product/save/</to>
            </connector_catalog_product_save>-->

            <connector_catalog_product_delete>
                <from><![CDATA[#^/admin/catalog_product/delete/#]]></from>
                <to>/connector/catalog_product/delete/</to>
            </connector_catalog_product_delete>
            <connector_customer_save>
                <from><![CDATA[#^/admin/customer/save/#]]></from>
                <to>/connector/customer/save/</to>
            </connector_customer_save>

            <connector_customer_delete>
                <from><![CDATA[#^/admin/customer/delete/#]]></from>
                <to>/connector/customer/delete/</to>
            </connector_customer_delete>

            <connector_catalog_category_save>
                <from><![CDATA[#^/admin/catalog_category/save/#]]></from>
                <to>/connector/catalog_category/save/</to>
            </connector_catalog_category_save>

            <connector_catalog_product_set_save>
                <from><![CDATA[#^/admin/catalog_product_set/save/#]]></from>
                <to>/connector/catalog_product_set/save/</to>
            </connector_catalog_product_set_save>

            <!-- This code is added by KT174 to override product Attribute Controller-->

            <connector_catalog_product_action_attribute_save>
                <from><![CDATA[#^/admin/catalog_product_action_attribute/save/#]]></from>
                <to>/connector/catalog_product_action_attribute/save/</to>
            </connector_catalog_product_action_attribute_save>

            <!-- This code is added by KT174 to override product Attribute Controller-->

            <connector_catalog_product_attribute_save>
                <from><![CDATA[#^/admin/catalog_product_attribute/save/#]]></from>
                <to>/connector/catalog_product_attribute/save/</to>
            </connector_catalog_product_attribute_save>
            <connector_catalog_product_attribute_delete>
                <from><![CDATA[#^/admin/catalog_product_attribute/delete/#]]></from>
                <to>/connector/catalog_product_attribute/delete/</to>
            </connector_catalog_product_attribute_delete>
        </rewrite>

    </global>
    <frontend>
        <routers>
            <connector>
                <use>standard</use>
                <args>
                    <module>Microbiz_Connector</module>
                    <frontName>connector</frontName>
                </args>
            </connector>
        </routers>
    </frontend>
    <admin>
        <routers>
            <connector>
                <use>admin</use>
                <args>
                    <module>Microbiz_Connector</module>
                    <frontName>connector</frontName>
                </args>
            </connector>
        </routers>
    </admin>
    <adminhtml>
        <layout>
            <updates>
                <connector>
                    <file>connector.xml</file>
                </connector>
            </updates>
        </layout>
    </adminhtml>
    <frontend>
        <layout>
            <updates>
                <connector>
                    <file>connector.xml</file>
                </connector>
            </updates>
        </layout>
    </frontend>
    <global>
        <fieldsets>
            <customer_account>
                <sync_cus_create><create>1</create><update>1</update><name>1</name></sync_cus_create>
                <sync_status><create>1</create><update>1</update><name>1</name></sync_status>
                <pos_cus_status><create>1</create><update>1</update><name>1</name></pos_cus_status>
                <sync_update_msg><create>1</create><update>1</update><name>1</name></sync_update_msg>
            </customer_account>
        </fieldsets>
    </global>

    <global>
        <models>
            <connector>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>connector_mysql4</resourceModel>
            </connector>
            <connector_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <connector>
                        <table>connector</table>
                    </connector>
                    <storeinventory>
                        <table>storeinventory</table>
                    </storeinventory>
                    <storeinventoryproduct>
                        <table>prd_shipment_item_tran</table>
                    </storeinventoryproduct>
                    <storeinventorytotal>
                        <table>storeinventory_header</table>
                    </storeinventorytotal>
                    <storeinventoryproducttotal>
                        <table>prd_shipment_header_tran</table>
                    </storeinventoryproducttotal>
                </entities>
            </connector_mysql4>
            <storeinventory>
                <class>Microbiz_Connector_Model_Storeinventory</class>
                <resourceModel>storeinventory_mysql4</resourceModel>
            </storeinventory>
            <storeinventoryproduct>
                <class>Microbiz_Connector_Model_Storeinventoryproduct</class>
                <resourceModel>storeinventoryproduct_mysql4</resourceModel>
            </storeinventoryproduct>
            <storeinventorytotal>
                <class>Microbiz_Connector_Model_Storeinventorytotal</class>
                <resourceModel>storeinventorytotal_mysql4</resourceModel>
            </storeinventorytotal>
            <storeinventoryproducttotal>
                <class>Microbiz_Connector_Model_Storeinventoryproducttotal</class>
                <resourceModel>storeinventoryproducttotal_mysql4</resourceModel>
            </storeinventoryproducttotal>
            <storeinventory_mysql4>
                <class>Microbiz_Connector_Model_Storeinventory_Mysql4</class>
                <entities>
                    <storeinventory>
                        <table>storeinventory</table>
                    </storeinventory>
                </entities>
            </storeinventory_mysql4>
            <storeinventorytotal_mysql4>
                <class>Microbiz_Connector_Model_Storeinventorytotal_Mysql4</class>
                <entities>
                    <storeinventorytotal>
                        <table>storeinventory_header</table>
                    </storeinventorytotal>
                </entities>
            </storeinventorytotal_mysql4>
            <storeinventoryproduct_mysql4>
                <class>Microbiz_Connector_Model_Storeinventoryproduct_Mysql4</class>
                <entities>
                    <storeinventoryproduct>
                        <table>prd_shipment_item_tran</table>
                    </storeinventoryproduct>
                </entities>
            </storeinventoryproduct_mysql4>
            <storeinventoryproducttotal_mysql4>
                <class>Microbiz_Connector_Model_Storeinventoryproducttotal_Mysql4</class>
                <entities>
                    <storeinventoryproducttotal>
                        <table>prd_shipment_header_tran</table>
                    </storeinventoryproducttotal>
                </entities>
            </storeinventoryproducttotal_mysql4>
            <extendedmbizconnector>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>extendedmbizconnector_mysql4</resourceModel>
            </extendedmbizconnector>
            <extendedmbizconnector_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <extendedmbizconnector>
                        <table>sync_records_header_tran</table>
                    </extendedmbizconnector>
                </entities>
            </extendedmbizconnector_mysql4>
            <syncitems>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>syncitems_mysql4</resourceModel>
            </syncitems>
            <syncitems_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <syncitems>
                        <table>sync_records_item_tran</table>
                    </syncitems>
                </entities>
            </syncitems_mysql4>
            <syncmbizstatus>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>syncmbizstatus_mysql4</resourceModel>
            </syncmbizstatus>
            <syncmbizstatus_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <syncmbizstatus>
                        <table>sync_mbiz_status_tran</table>
                    </syncmbizstatus>
                </entities>
            </syncmbizstatus_mysql4>
            <!-- This code is added by KT174 on 26th march 2014 -->
            <syncorderitems>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>syncorderitems_mysql4</resourceModel>
            </syncorderitems>
            <syncorderitems_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <syncorderitems>
                        <table>mbiz_sales_flat_order_item</table>
                    </syncorderitems>
                </entities>
            </syncorderitems_mysql4>
            <!-- This code is added by KT174 on 26th march 2014 -->
            <!-- This code is added by KT174 on 07th April 2014 -->
            <mbizcategory>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizcategory_mysql4</resourceModel>
            </mbizcategory>
            <mbizcategory_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizcategory>
                        <table>mbiz_category_rel_mas</table>
                    </mbizcategory>
                </entities>
            </mbizcategory_mysql4>
            <!-- This code is added by KT174 on 07th April 2014 -->

            <!-- This code is added by KT174 on 11th April 2014 -->
            <mbizcreditusage>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizcreditusage_mysql4</resourceModel>
            </mbizcreditusage>
            <mbizcreditusage_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizcreditusage>
                        <table>mbiz_order_credit_usage_history</table>
                    </mbizcreditusage>
                </entities>
            </mbizcreditusage_mysql4>
            <!-- This code is added by KT174 on 11th April 2014 -->
            <!-- This code is added by KT174 on 23rd May 2014 -->
            <mbizgiftcardsale>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizgiftcardsale_mysql4</resourceModel>
            </mbizgiftcardsale>
            <mbizgiftcardsale_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizgiftcardsale>
                        <table>mbiz_giftcard_sale_info</table>
                    </mbizgiftcardsale>
                </entities>
            </mbizgiftcardsale_mysql4>
            <!-- This code is added by KT174 on 23rd May 2014 -->
            <syncheaderhistory>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>syncheaderhistory_mysql4</resourceModel>
            </syncheaderhistory>
            <syncheaderhistory_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <syncheaderhistory>
                        <table>sync_records_header_tran_history</table>
                    </syncheaderhistory>
                </entities>
            </syncheaderhistory_mysql4>
            <syncitemhistory>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>syncitemhistory_mysql4</resourceModel>
            </syncitemhistory>
            <syncitemhistory_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <syncitemhistory>
                        <table>sync_records_item_tran_history</table>
                    </syncitemhistory>
                </entities>
            </syncitemhistory_mysql4>
            <saleorderheader>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>saleorderheader_mysql4</resourceModel>
            </saleorderheader>
            <saleorderheader_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <saleorderheader>
                        <table>sal_order_header_tran</table>
                    </saleorderheader>
                </entities>
            </saleorderheader_mysql4>
            <saleorderitem>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>saleorderitem_mysql4</resourceModel>
            </saleorderitem>
            <saleorderitem_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <saleorderitem>
                        <table>sal_order_items_tran</table>
                    </saleorderitem>
                </entities>
            </saleorderitem_mysql4>
            <saleorderbrkup>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>saleorderbrkup_mysql4</resourceModel>
            </saleorderbrkup>
            <saleorderbrkup_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <saleorderbrkup>
                        <table>sal_order_brkup_item_tran</table>
                    </saleorderbrkup>
                </entities>
            </saleorderbrkup_mysql4>
            <saleordershipaddress>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>saleordershipaddress_mysql4</resourceModel>
            </saleordershipaddress>
            <saleordershipaddress_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <saleordershipaddress>
                        <table>sal_order_ship_address_tran</table>
                    </saleordershipaddress>
                </entities>
            </saleordershipaddress_mysql4>
            <mbizproduct>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizproduct_mysql4</resourceModel>
            </mbizproduct>
            <mbizproduct_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizproduct>
                        <table>mbiz_prd_rel_mas</table>
                    </mbizproduct>
                </entities>
            </mbizproduct_mysql4>
            <mbizattributeset>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizattributeset_mysql4</resourceModel>
            </mbizattributeset>
            <mbizattributeset_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizattributeset>
                        <table>mbiz_attr_set_rel_mas</table>
                    </mbizattributeset>
                </entities>
            </mbizattributeset_mysql4>
            <mbizattribute>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizattribute_mysql4</resourceModel>
            </mbizattribute>
            <mbizattribute_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizattribute>
                        <table>mbiz_attr_rel_mas</table>
                    </mbizattribute>
                </entities>
            </mbizattribute_mysql4>
            <mbizattributegroup>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizattributegroup_mysql4</resourceModel>
            </mbizattributegroup>
            <mbizattributegroup_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizattributegroup>
                        <table>mbiz_attr_grp_rel_mas</table>
                    </mbizattributegroup>
                </entities>
            </mbizattributegroup_mysql4>
            <mbizattributeoption>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizattributeoption_mysql4</resourceModel>
            </mbizattributeoption>
            <mbizattributeoption_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizattributeoption>
                        <table>mbiz_options_rel_mas</table>
                    </mbizattributeoption>
                </entities>
            </mbizattributeoption_mysql4>
            <mbizcustomeraddr>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizcustomeraddr_mysql4</resourceModel>
            </mbizcustomeraddr>
            <mbizcustomeraddr_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizcustomeraddr>
                        <table>mbiz_cust_addr_rel_mas</table>
                    </mbizcustomeraddr>
                </entities>
            </mbizcustomeraddr_mysql4>
            <mbizcustomer>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>mbizcustomer_mysql4</resourceModel>
            </mbizcustomer>
            <mbizcustomer_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <mbizcustomer>
                        <table>mbiz_cust_rel_mas</table>
                    </mbizcustomer>
                </entities>
            </mbizcustomer_mysql4>
            <connectordebug>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>connectordebug_mysql4</resourceModel>
            </connectordebug>
            <connectordebug_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <connectordebug>
                        <table>connector_debug</table>
                    </connectordebug>
                </entities>
            </connectordebug_mysql4>
            <connectorcataloginventory>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>connectorcataloginventory_mysql4</resourceModel>
            </connectorcataloginventory>
            <connectorcataloginventory_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <connectorcataloginventory>
                        <table>connector_cataloginventory_stock_item</table>
                    </connectorcataloginventory>
                </entities>
            </connectorcataloginventory_mysql4>
            <!-- For Shipping Methods -->
            <pickup>
                <class>Microbiz_Connector_Model</class>
                <resourceModel>pickup_mysql4</resourceModel>
            </pickup>
            <pickup_mysql4>
                <class>Microbiz_Connector_Model_Mysql4</class>
                <entities>
                    <pickup>
                        <table>mbiz_order_used_shipping_methods</table>
                    </pickup>
                </entities>
            </pickup_mysql4>
            <!--<sales>
                <rewrite>
                    <order>Microbiz_Connector_Model_Sales_Order</order>
                </rewrite>
            </sales>-->
            <!-- For Shipping Methods -->
            <salesrule>
                <rewrite>
                    <validator>Microbiz_Connector_Model_SalesRule_Validator</validator>
                </rewrite>
            </salesrule>
            <sales>
                <rewrite>
                    <quote_address>Microbiz_Connector_Model_Sales_Quote_Address</quote_address>
                </rewrite>
            </sales>
            <catalog>
                <rewrite>
                    <product_action>Microbiz_Connector_Model_Product_Action</product_action>
                </rewrite>
            </catalog>
            <connector_httpclient>
                <class>Microbiz_Connector_Model_ERunActionsHttpClient</class>
            </connector_httpclient>
        </models>
        <blocks>
            <adminhtml>
                <rewrite>
                    <customer_edit_tab_account>Microbiz_Connector_Block_Customer_Edit_Tab_Account</customer_edit_tab_account>
                </rewrite>
            </adminhtml>
            <adminhtml>
                <rewrite>
                    <catalog_product_attribute_edit_tab_main>Microbiz_Connector_Block_Product_Attribute_Main</catalog_product_attribute_edit_tab_main>
                    <catalog_product_attribute_set_main_formset>Microbiz_Connector_Block_Product_Attribute_Set_Main_Formset</catalog_product_attribute_set_main_formset>
                </rewrite>
            </adminhtml>
            <microbiz_connector>
                <class>Microbiz_Connector_Block</class>
            </microbiz_connector>
            <adminhtml>
                <rewrite>
                    <catalog_category_tab_attributes>Microbiz_Connector_Block_Adminhtml_Category_Tab_Attributes</catalog_category_tab_attributes>
                </rewrite>
            </adminhtml>
            <checkout>
                <rewrite>
                    <cart_totals>Microbiz_Connector_Block_Cart_Totals</cart_totals>
                </rewrite>
                <!--<rewrite>
                    <total_default>Microbiz_Connector_Block_Total_Default</total_default>
                </rewrite>-->
            </checkout>
            <!--<tax>
                <rewrite>
                    <checkout_discount>Microbiz_Connector_Block_Tax_Checkout_Discount</checkout_discount>
                </rewrite>
            </tax>-->
            <adminhtml>
                <rewrite>
                    <sales_totals>Microbiz_Connector_Block_Adminhtml_Sales_Totals</sales_totals>
                </rewrite>
                <rewrite>
                    <sales_order_totals>Microbiz_Connector_Block_Adminhtml_Sales_Order_Totals</sales_order_totals>
                </rewrite>
                <rewrite>
                    <sales_order_invoice_totals>Microbiz_Connector_Block_Adminhtml_Sales_Order_Invoice_Totals</sales_order_invoice_totals>
                </rewrite>
                <rewrite>
                    <sales_order_creditmemo_totals>Microbiz_Connector_Block_Adminhtml_Sales_Order_Creditmemo_Totals</sales_order_creditmemo_totals>
                </rewrite>
            </adminhtml>
            <sales>
                <rewrite>
                    <order_totals>Microbiz_Connector_Block_Sales_Order_Totals</order_totals>
                </rewrite>
                <rewrite>
                    <order_invoice_totals>Microbiz_Connector_Block_Sales_Order_Invoice_Totals</order_invoice_totals>
                </rewrite>
                <rewrite>
                    <order_creditmemo_totals>Microbiz_Connector_Block_Sales_Order_Creditmemo_Totals</order_creditmemo_totals>
                </rewrite>
            </sales>
            <checkout>
                <rewrite>
                    <multishipping_overview>Microbiz_Connector_Block_Multishipping_Overview</multishipping_overview>
                </rewrite>
            </checkout>
        </blocks>
        <helpers>
            <microbiz_connector>
                <class>Microbiz_Connector_Helper</class>
            </microbiz_connector>
            <!--<connector>
            </connector>-->
        </helpers>
        <events>
            <controller_action_layout_generate_blocks_after>
                <observers>
                    <controller_action_layout_generate_blocks_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Product_Observer</class>
                        <method>updateGiftOptions</method>
                    </controller_action_layout_generate_blocks_after>
                </observers>
            </controller_action_layout_generate_blocks_after>
            <admin_session_user_login_success>
                <observers>
                    <admin_session_user_login_success>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>adminLoginSuccess</method>
                    </admin_session_user_login_success>
                </observers>
            </admin_session_user_login_success>
            <adminhtml_catalog_product_edit_prepare_form>
                <observers>
                    <events_prepare_form>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Block_Product_Observer</class>
                        <method>onPrepare</method>
                    </events_prepare_form>
                </observers>
            </adminhtml_catalog_product_edit_prepare_form>
            <catalog_product_attributeset_delete>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Product_Observer</class>
                        <method>onAttributeSetDelete</method>
                    </connector>
                </observers>
            </catalog_product_attributeset_delete>
            <catalog_product_attributegroup_delete>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Product_Observer</class>
                        <method>onAttributeGroupDelete</method>
                    </connector>
                </observers>
            </catalog_product_attributegroup_delete>
            <ktree_product_massupdate_save>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>onProductMassUpdate</method>
                    </connector>
                </observers>
            </ktree_product_massupdate_save>
            <!-- This code is added by KT174 on 27th march 2014-->
            <catalog_category_save_commit_after>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>mbizOnCategorySave</method>
                    </connector>
                </observers>
            </catalog_category_save_commit_after>
            <checkout_cart_update_items_after>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>mbizOnCartUpdate</method>
                    </connector>
                </observers>
            </checkout_cart_update_items_after>
            <catalog_category_tree_move_after>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Category_Observer</class>
                        <method>mbizOnCategoryShuffle</method>
                    </connector>
                </observers>
            </catalog_category_tree_move_after>
            <ktree_category_save>
                <observers>
                    <extendedmbizconnector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>ktree_category_save</method>
                    </extendedmbizconnector>
                </observers>
            </ktree_category_save>
            <ktree_product_delete>
                <observers>
                    <extendedmbizconnector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>ktree_product_delete</method>
                    </extendedmbizconnector>
                </observers>
            </ktree_product_delete>
            <ktree_customer_delete>
                <observers>
                    <extendedmbizconnector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>ktree_customer_delete</method>
                    </extendedmbizconnector>
                </observers>
            </ktree_customer_delete>
            <ktree_customer_save>
                <observers>
                    <extendedmbizconnector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>customer_save_after</method>
                    </extendedmbizconnector>
                </observers>
            </ktree_customer_save>
            <ktree_attribute_save>
                <observers>
                    <extendedmbizconnector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>onAttributeSave</method>
                    </extendedmbizconnector>
                </observers>
            </ktree_attribute_save>
            <ktree_attributeset_save>
                <observers>
                    <extendedmbizconnector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>onAttributeSetSave</method>
                    </extendedmbizconnector>
                </observers>
            </ktree_attributeset_save>
            <catalog_controller_category_delete>
                <observers>
                    <extendedmbizconnector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>ktree_category_delete</method>
                    </extendedmbizconnector>
                </observers>
            </catalog_controller_category_delete>
            <checkout_controller_multishipping_shipping_post>
                <observers>
                    <checkout_controller_multishipping_shipping_post>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizOnMultiShipShippingSave</method>
                    </checkout_controller_multishipping_shipping_post>
                </observers>
            </checkout_controller_multishipping_shipping_post >
            <checkout_multishipping_controller_success_action>
                <observers>
                    <checkout_multishipping_controller_success_action>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizOnMultiShipOrderSave</method>
                    </checkout_multishipping_controller_success_action>
                </observers>
            </checkout_multishipping_controller_success_action>
            <checkout_type_multishipping_create_orders_single>
                <observers>
                    <checkout_type_multishipping_create_orders_single>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizOnMultiShipOrderCreate</method>
                    </checkout_type_multishipping_create_orders_single>
                </observers>
            </checkout_type_multishipping_create_orders_single>

            <!--This code is added by KT174 on 26th march 2014 -->
            <!-- This code is added by KT174 on 28th may 2014-->
            <checkout_type_multishipping_set_shipping_items>
                <observers>
                    <checkout_type_multishipping_set_shipping_items>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizUpdateGiftCardPrice</method>
                    </checkout_type_multishipping_set_shipping_items>
                </observers>
            </checkout_type_multishipping_set_shipping_items>
            <sales_order_save_after>
                <observers>
                    <sales_order_save_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizOnOrderStatusChange</method>
                    </sales_order_save_after>
                </observers>
            </sales_order_save_after>
            <sales_quote_remove_item>
                <observers>
                    <sales_quote_remove_item>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>mbizOnCartItemRemove</method>
                    </sales_quote_remove_item>
                </observers>
            </sales_quote_remove_item>
            <!-- This code is added by KT174 on 28th march 2014-->
            <catalog_product_save_commit_after>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Product_Observer</class>
                        <method>mbizOnProductSave</method>
                    </connector>
                </observers>
            </catalog_product_save_commit_after>
            <!-- This code is added by KT174 on 28th march 2014-->

            <!-- This code is added by KT174 on 11th march 2014-->
            <sales_quote_collect_totals_after>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Observer</class>
                        <method>mbizSetDiscountAmount</method>
                    </connector>
                </observers>
            </sales_quote_collect_totals_after>
            <!-- This code is added by KT174 on 11th march 2014-->
            <paypal_prepare_line_items>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizSetDiscountToPaypal</method>
                    </connector>
                </observers>
            </paypal_prepare_line_items>
            <!--This code is added by KT-174 on 24th April 2014 -->
            <sales_order_payment_refund>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizOnOrderRefunded</method>
                    </connector>
                </observers>
            </sales_order_payment_refund>
            <sales_order_creditmemo_save_before>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizOnCreditMemoBefore</method>
                    </connector>
                </observers>
            </sales_order_creditmemo_save_before>
            <!--This code is added by KT-174 on 24th April 2014 -->

            <!--This code is to delete the product relation on product delete starts here-->
            <catalog_controller_product_delete>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Product_Observer</class>
                        <method>mbizOnProductDelete</method>
                    </connector>
                </observers>
            </catalog_controller_product_delete>

            <!--This code is to delete the product relation on product delete ends here -->
        </events>
        <resources>
            <connector_setup>
                <setup>
                    <module>Microbiz_Connector</module>
                    <class>Mage_Customer_Model_Entity_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </connector_setup>
            <product_setup>
                <setup>
                    <module>Microbiz_Connector</module>
                    <class>Mage_Catalog_Model_Resource_Eav_Mysql4_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </product_setup>
            <connector_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </connector_write>
            <connector_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </connector_read>
            <extendedmbizconnector_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </extendedmbizconnector_write>
            <extendedmbizconnector_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </extendedmbizconnector_read>
            <syncitems_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </syncitems_write>
            <!-- connection to read -->
            <syncitems_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </syncitems_read>
            <syncmbizstatus_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </syncmbizstatus_write>
            <!-- connection to read -->
            <syncmbizstatus_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </syncmbizstatus_read>
            <syncheaderhistory_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </syncheaderhistory_write>
            <syncheaderhistory_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </syncheaderhistory_read>
            <syncitemhistory_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </syncitemhistory_write>
            <syncitemhistory_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </syncitemhistory_read>
            <saleorderheader_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </saleorderheader_write>
            <saleorderheader_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </saleorderheader_read>
            <saleorderitem_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </saleorderitem_write>
            <saleorderitem_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </saleorderitem_read>
            <saleordershipaddress_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </saleordershipaddress_write>
            <saleordershipaddress_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </saleordershipaddress_read>
        </resources>
    </global>
    <frontend>
        <events>
            <customer_save_before>
                <observers>
                    <customer_save_before>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Customer_Observer</class>
                        <method>onFrontendBeforeSave</method>
                    </customer_save_before>
                </observers>
            </customer_save_before>
            <ktree_customeraddress_delete>
                <observers>
                    <ktree_customeraddress_delete>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Customer_Observer</class>
                        <method>onCustomerAddressDelete</method>
                    </ktree_customeraddress_delete>
                </observers>
            </ktree_customeraddress_delete>
            <ktree_customeraddress_save>
                <observers>
                    <ktree_customeraddress_save>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Customer_Observer</class>
                        <method>onCustomerAddressSave</method>
                    </ktree_customeraddress_save>
                </observers>
            </ktree_customeraddress_save>
            <customer_save_after>
                <observers>
                    <customer_save_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Customer_Observer</class>
                        <method>onFrontendAfterSave</method>
                    </customer_save_after>
                </observers>
            </customer_save_after>
            <onfrontend_create>
                <observers>
                    <events_onfrontend_create>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Customer_Observer</class>
                        <method>onFrontendCreate</method>
                    </events_onfrontend_create>
                </observers>
            </onfrontend_create>
            <onfrontend_update>
                <observers>
                    <events_onfrontend_update>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Customer_Observer</class>
                        <method>onFrontendUpdate</method>
                    </events_onfrontend_update>
                </observers>
            </onfrontend_update>
            <!-- For Shipping Methods -->
            <checkout_controller_onepage_save_shipping_method>
                <observers>
                    <checkout_controller_onepage_save_shipping_method>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>saveShippingMethod</method>
                    </checkout_controller_onepage_save_shipping_method>
                </observers>
            </checkout_controller_onepage_save_shipping_method>
            <sales_model_service_quote_submit_after>
                <observers>
                    <checkout_controller_onepage_save_shipping_method>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>saveOrderAfter</method>
                    </checkout_controller_onepage_save_shipping_method>
                </observers>
            </sales_model_service_quote_submit_after>
            <sales_order_load_after>
                <observers>
                    <sales_order_load_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>loadOrderAfter</method>
                    </sales_order_load_after>
                </observers>
            </sales_order_load_after>
            <sales_quote_load_after>
                <observers>
                    <sales_quote_load_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>loadQuoteAfter</method>
                    </sales_quote_load_after>
                </observers>
            </sales_quote_load_after>
            <!-- For Shipping Methods End -->

            <checkout_cart_product_add_after>
                <observers>
                    <checkout_cart_product_add_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizReorderToQuote</method>
                    </checkout_cart_product_add_after>
                </observers>
            </checkout_cart_product_add_after>
            <checkout_cart_save_after>
                <observers>
                    <checkout_cart_save_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>mbizCartLoadAfter</method>
                    </checkout_cart_save_after>
                </observers>
            </checkout_cart_save_after>
        </events>
    </frontend>
    <adminhtml>
        <events>
            <!--event for catching the change of Catalog Price Including / Excluding Starts Here. -->
            <admin_system_config_section_save_after>
                <observers>
                    <admin_system_config_section_save_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Product_Observer</class>
                        <method>onCatalogRuleChange</method>
                    </admin_system_config_section_save_after>
                </observers>
            </admin_system_config_section_save_after>
            <!--event for catching the change of Catalog Price Including / Excluding Ends Here. -->
            <sales_order_place_after>
                <observers>
                    <sales_order_place_after>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <method>onAdminOrderSave</method>
                    </sales_order_place_after>
                </observers>
            </sales_order_place_after>
            <catalog_product_save_before>
                <observers>
                    <connector>
                        <type>singleton</type>
                        <class>Microbiz_Connector_Model_Product_Observer</class>
                        <method>onBeforeSave</method>
                    </connector>
                </observers>
            </catalog_product_save_before>
            <adminhtml_widget_container_html_before>
                <observers>
                    <extendedmbizconnector>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <type>singleton</type>
                        <method>addResyncButton</method>
                    </extendedmbizconnector>
                </observers>
            </adminhtml_widget_container_html_before>
            <core_block_abstract_to_html_after>
                <observers>
                    <extendedmbizconnector>
                        <class>Microbiz_Connector_Model_Order_Observer</class>
                        <type>singleton</type>
                        <method>mbizOrderInformation</method>
                    </extendedmbizconnector>
                </observers>
            </core_block_abstract_to_html_after>
        </events>
        <menu>
            <microbiz_connector module="microbiz_connector">
                <title>MicroBiz POS</title>
                <sort_order>77</sort_order>
                <children>
                    <microbiz_connector module="microbiz_connector">
                        <title> Configuration  </title>
                        <sort_order>0</sort_order>
                        <action>connector/adminhtml_connector</action>
                    </microbiz_connector>
                    <mbiz_initial_sync module="microbiz_connector">
                        <depends>
                            <config>connector/mbiz/noinitialsync/status</config>
                        </depends>
                        <title> Start Initial Sync</title>
                        <sort_order>0</sort_order>
                        <action>connector/adminhtml_connector/startinitialsync</action>
                    </mbiz_initial_sync>
                    <connectordebug module="microbiz_connector">
                        <title> Debug Information  </title>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <sort_order>1</sort_order>
                        <action>connector/adminhtml_connectordebug</action>
                    </connectordebug>
                    <mbizrelations module="microbiz_connector">
                        <title>MicroBiz Magento Relations</title>
                        <sort_order>2</sort_order>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <children>
                            <mbizattributeset module="microbiz_connector">
                                <title> Attribute Set Relations  </title>
                                <sort_order>0</sort_order>
                                <action>connector/adminhtml_connectordebug/attributeset</action>
                            </mbizattributeset>
                            <mbizproduct module="microbiz_connector">
                                <title> Product Relations  </title>
                                <sort_order>1</sort_order>
                                <action>connector/adminhtml_connectordebug/product</action>
                            </mbizproduct>
                            <mbizcustomer module="microbiz_connector">
                                <title> Customer Relations  </title>
                                <sort_order>2</sort_order>
                                <action>connector/adminhtml_connectordebug/customer</action>
                            </mbizcustomer>
                            <mbizcustomeraddr module="microbiz_connector">
                                <title> Customer Address Relations  </title>
                                <sort_order>3</sort_order>
                                <action>connector/adminhtml_connectordebug/customeraddress</action>
                            </mbizcustomeraddr>
                            <mbizattribute module="microbiz_connector">
                                <title> Attribute Relations  </title>
                                <sort_order>4</sort_order>
                                <action>connector/adminhtml_connectordebug/attribute</action>
                            </mbizattribute>
                            <mbizattributegroup module="microbiz_connector">
                                <title> Attribute Group Relations  </title>
                                <sort_order>5</sort_order>
                                <action>connector/adminhtml_connectordebug/attributegroup</action>
                            </mbizattributegroup>
                            <mbizattributeoptions module="microbiz_connector">
                                <title> Attribute Options Relations  </title>
                                <sort_order>6</sort_order>
                                <action>connector/adminhtml_connectordebug/attributeoption</action>
                            </mbizattributeoptions>
                        </children>
                    </mbizrelations>
                    <syncheader module="microbiz_connector">
                        <title> Sync Data Information  </title>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <sort_order>3</sort_order>
                        <action>connector/adminhtml_connectordebug/syncheader</action>
                    </syncheader>
                    <synchistory module="microbiz_connector">
                        <title> Sync Data History Information  </title>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <sort_order>4</sort_order>
                        <action>connector/adminhtml_connectordebug/synchistory</action>
                    </synchistory>
                    <storeinventory module="microbiz_connector">
                        <title> Store Inventory  </title>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <sort_order>5</sort_order>
                        <action>connector/adminhtml_connectordebug/storeinventory</action>
                    </storeinventory>
                    <connectorcataloginventory module="microbiz_connector">
                        <title> Magento Original Inventory  </title>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <sort_order>6</sort_order>
                        <action>connector/adminhtml_connectordebug/connectorcataloginventory</action>
                    </connectorcataloginventory>
                    <customerSync module="microbiz_connector">
                        <title> Sync Customers Information  </title>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <sort_order>7</sort_order>
                        <action>connector/adminhtml_connectordebug/customerSync</action>
                    </customerSync>
                    <productSync module="microbiz_connector">
                        <title> Sync Products Information  </title>
                        <depends><config>connector/settings/connectordebug</config></depends>
                        <sort_order>8</sort_order>
                        <action>connector/adminhtml_connectordebug/productSync</action>
                    </productSync>
                </children>
            </microbiz_connector>
        </menu>
        <acl>
            <resources>
                <all>
                    <title>Allow Everything</title>
                </all>
            </resources>
        </acl>
    </adminhtml>
    <default>
        <carriers>
            <instorepickup>
                <active>0</active>
                <sallowspecific>0</sallowspecific>
                <model>extendedmbizconnector/carrier_instorepickup</model>
                <name>In Store pick-up</name>
                <title>In Store pick-up</title>
                <type>I</type>
                <specificerrmsg>This shipping method is currently unavailable. If you would like to ship using this shipping method, please contact us.</specificerrmsg>
                <handling_type>F</handling_type>
            </instorepickup>
            <mbizdelevery>
                <active>0</active>
                <sallowspecific>0</sallowspecific>
                <model>extendedmbizconnector/carrier_mbizdelevery</model>
                <name>Local Delivery</name>
                <title>Local Delivery</title>
                <type>I</type>
                <specificerrmsg>This shipping method is currently unavailable. If you would like to ship using this shipping method, please contact us.</specificerrmsg>
                <handling_type>F</handling_type>
            </mbizdelevery>
        </carriers>
        <payment>
            <payinstore>
                <active>0</active>
                <model>connector/payinstore</model>
                <order_status>processing</order_status>
                <title>Pay at Store</title>
            </payinstore>
        </payment>
    </default>
</config>
